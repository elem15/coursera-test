const header = document.querySelector('.section-header');
const mainNavigation = document.getElementById('main-navigation');

// ACCORDION

document.querySelector('.faq-accordion').addEventListener('click', (event) => {
      if (event.target.closest('.faq-accordion__item')){        
      event.target.closest('.faq-accordion__item').classList.toggle('faq-accordion__item--active');
    }
})

// BURGER-NAV

document.querySelector('.btn-burger').addEventListener('click', () => {
    const header = document.querySelector('.section-header');     
    header.classList.toggle('section-header--active-nav'); 
     
    if(header.classList.contains('section-header--active-nav')) {
        hideScroll();
    } else {
        showScroll();
    }
})


// Block Scroll
  
const hideScroll = () => {
    const scrollWidth = `${getScrollbarWidth()}px`;

    document.body.style.paddingRight = scrollWidth;
    document.body.style.overflow = 'hidden';

    mainNavigation.style.paddingRight = scrollWidth;
}

const showScroll = () => {
        document.body.style.paddingRight = '';
        document.body.style.overflow = 'visible';
        
        mainNavigation.style.paddingRight = '';
}

const resetNav = () => {
    showScroll();    
    header.classList.remove('section-header--active-nav'); 
}

window.addEventListener('resize', resetNav);

const getScrollbarWidth = () => {
    const item = document.createElement('div');

    item.style.position = 'absolute';
    item.style.top = '-99999px';
    item.style.width = '50px';
    item.style.height = '50px';
    item.style.overflow = 'scroll';
    item.style.visibility = 'hidden';

    document.body.appendChild(item);
    const scrollBarWidth = item.offsetWidth - item.clientWidth;
    document.body.removeChild(item);
    return scrollBarWidth; 
}

// Karusel


new Swiper('.section-hero-image', {
    pagination: {
        el: '.section-hero-image .dots',
        clickable: true,
      },
  
  });


new Swiper('.slider-blog-container', {
    loop: true,
    pagination: {
        el: '.section-blog .swiper-pagination',
        clickable: true,
      },
    navigation: {
      nextEl: '.section-blog .swiper-button-next',
      prevEl: '.section-blog .swiper-button-prev',
    },
  });

new Swiper('.slider-quotes-container', {
    // loop: true,
    // slidesPerViev: 'auto',
    // spaceBetween: 60,
    pagination: {
        el: '.section-quotes__right .dots',
        clickable: true,
      },
  });




//2

// const text = document.querySelectorAll('.faq-accordion__item');

// accordion.forEach(function(item){
//     item.addEventListener('click', function(e) {

//         e.nextElementSibling.closest('[data-modal]').classList.toggle('faq-accordion__item--active');

// })
// })


//3

// const accordion = document.querySelectorAll('.faq-accordion__item');

// accordion.forEach(function (item) {
//     item.addEventListener('click', function () {
//         item.classList.toggle('faq-accordion__item--active')
//     })
// })


